<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SEC Chat - SECIntel</title>
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      font-family: Arial, sans-serif;
    }

    #n8n-chat {
      display: none; /* Initially hidden to avoid showing a blank box */
    }

    .n8n-chat-header {
      background-color: #E08914; /* SEC-style dark navy */
      color: #ffffff;
    }

    .n8n-chat-bubble.bot {
      background-color: #E08914;
      color: white;
    }

    .n8n-chat-bubble.user {
      background-color: #E08914;
      color: black;
    }
  </style>
</head>
<body>
  <div id="n8n-chat"></div>

  <script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

    createChat({
      webhookUrl: 'https://jhamdan.app.n8n.cloud/webhook/55b51dc7-3016-473b-8352-8f6ac3d60e0f/chat',
      target: '#n8n-chat',
      mode: 'window',
      chatInputKey: 'chatInput',
      chatSessionKey: 'sessionId',
      showWelcomeScreen: false,
      defaultLanguage: 'en',
      initialMessages: [
        "ðŸ‘‹ Hi! I'm SECIntel â€” your dedicated data analysis support bot at SEC.",
        "Feel free to ask me anything about your dashboards, data, or reports."
      ],
      i18n: {
        en: {
          title: 'SECIntel â€“ SEC Data Assistant',
          subtitle: "Your 24/7 analysis partner.",
          getStarted: 'Start Chat',
          inputPlaceholder: 'Type your question...',
        },
      },
    });

    // Reveal the div once chat is loaded
    window.addEventListener("DOMContentLoaded", () => {
      document.querySelector('#n8n-chat').style.display = 'block';
    });
  </script>
</body>
</html>
